webpackJsonp([6],{"5LSA":function(t,a,e){a=t.exports=e("FZ+f")(!0),a.push([t.i,".create-title{margin:auto;height:80px;line-height:80px;background-color:#f4f6f9;margin-bottom:20px}.create-title h1{margin-left:30px;line-height:80px;font-size:28px;color:#212b36}.create-title-button .button{margin-top:24px;line-height:80px}#form .create-content{display:inline;vertical-align:top;margin:0 auto}.create-content h3{font-size:18px;line-height:80px;color:#191c21;font-size:20px}.create-information .ivu-col-span-14{margin:0 auto;width:80%}.ivu-col-span-20{margin:0 auto}.create-content .ivu-form-item{width:400px}.create-position .create-country .ivu-form-item{width:90px}.ivu-col-span-10{-width:180px;height:89px;-line-height:89px}.ivu-col-span-10 p{line-height:32px}.create-country .ivu-col-span-10{width:280px}#location{height:189px}.locationMap{height:100px;width:320px;margin-top:20px}.slide-fade-enter-active,.slide-fade-leave-active{-webkit-transition:all 1s ease;transition:all 1s ease}.slide-fade-enter{-webkit-transform:translateX(100px);transform:translateX(100px);opacity:0}.slide-fade-leave-to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}#map{position:relative}#map #mapExpand{position:absolute;right:0;top:0;cursor:pointer}","",{version:3,sources:["D:/zuopin/vue-crm/src/components/clientServer/createNewClient.vue"],names:[],mappings:"AACA,cACI,YAAa,AACb,YAAa,AACb,iBAAkB,AAClB,yBAA0B,AAC1B,kBAAoB,CACvB,AACD,iBACI,iBAAkB,AAClB,iBAAkB,AAClB,eAAgB,AAChB,aAAe,CAClB,AACD,6BACI,gBAAgB,AAChB,gBAAkB,CACrB,AACD,sBACK,eAAgB,AAChB,mBAAoB,AACpB,aAAc,CAClB,AACD,mBACI,eAAgB,AAChB,iBAAkB,AAClB,cAAe,AACf,cAAgB,CACnB,AACD,qCACI,cAAc,AACd,SAAW,CACd,AACD,iBACI,aAAc,CACjB,AACD,+BACI,WAAY,CACf,AACD,gDACI,UAAW,CACd,AACD,iBACI,aAAa,AACb,YAAY,AACZ,iBAAkB,CACrB,AACD,mBACI,gBAAiB,CACpB,AACD,iCACI,WAAY,CACf,AACD,UACE,YAAc,CACf,AACD,aACE,aAAc,AACd,YAAa,AACb,eAAiB,CAClB,AAOD,kDACE,+BAAgC,AAChC,sBAAwB,CACzB,AACD,kBACG,oCAAqC,AAC7B,4BAA6B,AACrC,SAAW,CACb,AACD,qBACE,gCAAmC,AAC3B,wBAA2B,AACnC,SAAW,CACZ,AACD,KACI,iBAAmB,CACtB,AACD,gBACI,kBAAmB,AACnB,QAAW,AACX,MAAS,AACT,cAAgB,CACnB",file:"createNewClient.vue",sourcesContent:["\n.create-title {\r\n    margin: auto;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    background-color: #f4f6f9;\r\n    margin-bottom: 20px;\n}\n.create-title h1 {\r\n    margin-left: 30px;\r\n    line-height: 80px;\r\n    font-size: 28px;\r\n    color: #212b36;\n}\n.create-title-button .button {\r\n    margin-top:24px;\r\n    line-height: 80px;\n}\n#form .create-content {\r\n     display: inline;\r\n     vertical-align: top;\r\n     margin:0 auto;\n}\n.create-content h3 {\r\n    font-size: 18px;\r\n    line-height: 80px;\r\n    color: #191c21;\r\n    font-size: 20px;\n}\n.create-information .ivu-col-span-14 {\r\n    margin:0 auto;\r\n    width: 80%;\n}\n.ivu-col-span-20 {\r\n    margin:0 auto;\n}\n.create-content .ivu-form-item {\r\n    width:400px;\n}\n.create-position .create-country .ivu-form-item {\r\n    width:90px;\n}\n.ivu-col-span-10 {\r\n    -width:180px;\r\n    height:89px;\r\n    -line-height:89px;\n}\n.ivu-col-span-10 p {\r\n    line-height:32px;\n}\n.create-country .ivu-col-span-10{\r\n    width:280px;\n}\n#location{\r\n  height: 189px;\n}\n.locationMap{\r\n  height: 100px;\r\n  width: 320px;\r\n  margin-top: 20px;\n}\r\n/* 可以设置不同的进入和离开动画 */\r\n/* 设置持续时间和动画函数 */\n.slide-fade-enter-active {\r\n  -webkit-transition: all 1s ease;\r\n  transition: all 1s ease;\n}\n.slide-fade-leave-active {\r\n  -webkit-transition: all 1s ease;\r\n  transition: all 1s ease;\n}\n.slide-fade-enter{\r\n   -webkit-transform: translateX(100px);\r\n           transform: translateX(100px); \r\n   opacity: 0;\n}\n.slide-fade-leave-to{\r\n  -webkit-transform: translateX(0px);\r\n          transform: translateX(0px);\r\n  opacity: 1;\n}\n#map{\r\n    position: relative;\n}\n#map #mapExpand{\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n    cursor: pointer;\n}\r\n"],sourceRoot:""}])},"5nhl":function(t,a,e){var n=e("6fzI");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("693448a3",n,!0)},"6fzI":function(t,a,e){a=t.exports=e("FZ+f")(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"map.vue",sourceRoot:""}])},DE27:function(t,a,e){"use strict";var n=e("LM1A");a.a={components:{locationMap:n.a},data:function(){return{formValidate:{clientName:"",clientType:"",clinetFrom:"",businessLevel1:"",businessLevel2:"",phoneNum:"",fax:"",email:"",url:"",comment:"",locationInfo:"",country:"",province:"",city:"",area:"",address:""},ruleValidate:{clientName:[{required:!0,message:"姓名不能为空",trigger:"change blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"change blur"},{type:"email",message:"邮箱格式不正确",trigger:"change blur"}],url:[{type:"url",message:"url格式不正确",trigger:"chagne blur"}]},loading:!1,locationList:[],blDisabled:!0}},methods:{addClientUser:function(t){var a=this;this.$refs[t].validate(function(t){t?(a.$store.dispatch("createNewClient",{formValidate:a.formValidate,newRouter:a.$router}),a.$Message.success("提交成功!")):a.$Message.error("表单验证失败! 请重新输入")})},changeBusinessLevel:function(t){this.blDisabled=!1},goMain:function(){this.$router.go(-1)},getLocationInfo:function(t){var a=this;""!==t?(this.loading=!0,this.loading&&setTimeout(function(){a.loading=!1,a.$http.jsonp("https://restapi.amap.com/v3/assistant/inputtips?s=rsv3&key=47a6ca401e4e72bccc0691a9df65aef1&city=&platform=JS&logversion=2.0&sdkversion=1.3&appname=https%3A%2F%2Fwww.fxiaoke.com%2FXV%2FHome%2FIndex%23crm%2Fcustomer&csid=CDFF25FA-AB21-4CEF-BA59-363CFCE99BEE",{params:{keywords:t},jsonp:"callback"}).then(function(t){a.locationList=t.body.tips},function(t){})},200)):this.locationList=[]},getLocationMap:function(t){var a=this.$store.state.map,e=new BMap.Point(116.331398,39.897445);a.centerAndZoom(e,12),(new BMap.Geocoder).getPoint(t.label,function(t){t?(a.centerAndZoom(t,16),a.addOverlay(new BMap.Marker(t))):alert("您选择地址没有解析到结果!")},"北京市"),a.enableScrollWheelZoom(!0)},mapExpand:function(t){"mapExpand"===t.target.id&&window.open("http://localhost:8080/dist/mapExpand?location="+encodeURIComponent(this.formValidate.locationInfo),"_blank")}}}},LM1A:function(t,a,e){"use strict";function n(t){e("5nhl")}var i=e("fo8f"),o=e("pFHy"),r=e("VU/8"),l=n,s=r(i.a,o.a,l,null,null);a.a=s.exports},OTSD:function(t,a,e){var n=e("5LSA");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("555bdcb4",n,!0)},ZXlB:function(t,a,e){"use strict";function n(t){e("OTSD")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("DE27"),o=e("as4Q"),r=e("VU/8"),l=n,s=r(i.a,o.a,l,null,null);a.default=s.exports},as4Q:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"slide-fade"}},[e("div",{attrs:{id:"form"}},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":80,rules:t.ruleValidate}},[e("Row",{staticClass:"create-title clearfix"},[e("Col",{staticClass:"fl",attrs:{span:"6"}},[e("h1",[t._v("新建客户")])]),t._v(" "),e("Col",{staticClass:"fr",attrs:{span:"8"}},[e("div",{staticClass:"create-title-button"},[e("Form-item",{staticClass:"button"},[e("Button",{staticClass:"fr",staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.goMain}},[t._v("取消")]),t._v(" "),e("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(a){t.addClientUser("formValidate")}}},[t._v("保存")])],1)],1)])],1),t._v(" "),e("Row",{staticClass:"create-content"},[e("Row",{staticClass:"create-information code-row-bg",attrs:{type:"flex",justify:"center"}},[e("Col",{attrs:{span:"14"}},[e("h3",[t._v("基本信息")]),t._v(" "),e("Col",{staticClass:"fl",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"客户名称",prop:"clientName"}},[e("Input",{attrs:{autofocus:!0,placeholder:"请输入客户名称"},model:{value:t.formValidate.clientName,callback:function(a){t.formValidate.clientName=a},expression:"formValidate.clientName"}})],1)],1),t._v(" "),e("Col",{staticClass:"fr",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"客户类型",prop:"clientType"}},[e("Select",{attrs:{placeholder:"请选择"},model:{value:t.formValidate.clientType,callback:function(a){t.formValidate.clientType=a},expression:"formValidate.clientType"}},[e("Option",{attrs:{value:"客户"}},[t._v("客户")])],1)],1)],1),t._v(" "),e("Col",{staticClass:"fl",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"来源",prop:"clinetFrom"}},[e("Select",{attrs:{placeholder:"请选择"},model:{value:t.formValidate.clinetFrom,callback:function(a){t.formValidate.clinetFrom=a},expression:"formValidate.clinetFrom"}},[e("Option",{attrs:{value:"线上注册"}},[t._v("线上注册")]),t._v(" "),e("Option",{attrs:{value:"来源"}},[t._v("来源")]),t._v(" "),e("Option",{attrs:{value:"转介绍"}},[t._v("转介绍")])],1)],1)],1),t._v(" "),e("Col",{staticClass:"fr",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"1级行业",prop:"businessLevel1"}},[e("Select",{attrs:{placeholder:"请选择"},on:{"on-change":t.changeBusinessLevel},model:{value:t.formValidate.businessLevel1,callback:function(a){t.formValidate.businessLevel1=a},expression:"formValidate.businessLevel1"}},[e("Option",{attrs:{value:"IT／通信／电子／互联网"}},[t._v("IT／通信／电子／互联网")]),t._v(" "),e("Option",{attrs:{value:"金融业"}},[t._v("金融业")]),t._v(" "),e("Option",{attrs:{value:"房地产"}},[t._v("房地产")])],1)],1)],1),t._v(" "),e("Col",{staticClass:"fl",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"2级行业",prop:"businessLevel2"}},[e("Select",{ref:"businessLevel2",attrs:{placeholder:"请先选择1级行业",disabled:t.blDisabled},model:{value:t.formValidate.businessLevel2,callback:function(a){t.formValidate.businessLevel2=a},expression:"formValidate.businessLevel2"}},[e("Option",{attrs:{value:"互联网电子商务"}},[t._v("互联网电子商务")]),t._v(" "),e("Option",{attrs:{value:"计算机硬件"}},[t._v("计算机硬件")]),t._v(" "),e("Option",{attrs:{value:"计算机软件"}},[t._v("计算机软件")])],1)],1)],1),t._v(" "),e("Col",{staticClass:"fr",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"电话",prop:"phoneNum"}},[e("Input",{model:{value:t.formValidate.phoneNum,callback:function(a){t.formValidate.phoneNum=a},expression:"formValidate.phoneNum"}})],1)],1),t._v(" "),e("Col",{staticClass:"fl",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"传真",prop:"fax"}},[e("Input",{model:{value:t.formValidate.fax,callback:function(a){t.formValidate.fax=a},expression:"formValidate.fax"}})],1)],1),t._v(" "),e("Col",{staticClass:"fr",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"邮件",prop:"email"}},[e("Input",{model:{value:t.formValidate.email,callback:function(a){t.formValidate.email=a},expression:"formValidate.email"}})],1)],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("Form-item",{staticClass:"fl",attrs:{label:"网址",prop:"url"}},[e("Input",{model:{value:t.formValidate.url,callback:function(a){t.formValidate.url=a},expression:"formValidate.url"}})],1)],1),t._v(" "),e("Col",{staticClass:"fr",attrs:{span:"10"}},[e("Form-item",{attrs:{label:"备注",prop:"comment"}},[e("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:t.formValidate.comment,callback:function(a){t.formValidate.comment=a},expression:"formValidate.comment"}})],1)],1)],1),t._v(" "),e("Col",{attrs:{span:"14"}},[e("h3",[t._v("地区定位")]),t._v(" "),e("Col",{staticClass:"fl",attrs:{span:"10",id:"location"}},[e("Form-item",{attrs:{label:"定位",prop:"locationInfo"}},[e("Select",{attrs:{placeholder:"请输入写字楼、街道、公司名称",filterable:"",remote:"","label-in-value":!0,"remote-method":t.getLocationInfo,loading:t.loading},on:{"on-change":t.getLocationMap},model:{value:t.formValidate.locationInfo,callback:function(a){t.formValidate.locationInfo=a},expression:"formValidate.locationInfo"}},t._l(t.locationList,function(a,n){return e("Option",{key:a.id+Date.now(),attrs:{value:a.district+a.address+a.name}},[t._v(t._s(a.district+a.address+a.name))])})),t._v(" "),e("div",{attrs:{id:"map"},on:{click:t.mapExpand}},[e("location-map",{staticClass:"locationMap"}),t._v(" "),e("Icon",{attrs:{type:"arrow-expand",size:"40",id:"mapExpand",title:"放大"}})],1)],1)],1),t._v(" "),e("Col",{staticClass:"create-country fr",attrs:{span:"10"}},[e("label",{staticClass:"ivu-form-item-label"},[t._v("国家/省/市/区")]),t._v(" "),e("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-between"}},[e("Col",{attrs:{span:"5"}},[e("Select",{attrs:{placeholder:"国家"},model:{value:t.formValidate.country,callback:function(a){t.formValidate.country=a},expression:"formValidate.country"}},[e("Option",{attrs:{value:"中国"}},[t._v("中国")])],1)],1),t._v(" "),e("Col",{attrs:{span:"5"}},[e("Select",{attrs:{placeholder:"省"},model:{value:t.formValidate.province,callback:function(a){t.formValidate.province=a},expression:"formValidate.province"}},[e("Option",{attrs:{value:"北京市"}},[t._v("北京市")]),t._v(" "),e("Option",{attrs:{value:"河北省"}},[t._v("河北省")]),t._v(" "),e("Option",{attrs:{value:"河南省"}},[t._v("河南省")])],1)],1),t._v(" "),e("Col",{attrs:{span:"5"}},[e("Select",{attrs:{placeholder:"市"},model:{value:t.formValidate.city,callback:function(a){t.formValidate.city=a},expression:"formValidate.city"}},[e("Option",{attrs:{value:"北京市"}},[t._v("北京市")]),t._v(" "),e("Option",{attrs:{value:"天津市"}},[t._v("天津市")]),t._v(" "),e("Option",{attrs:{value:"保定市"}},[t._v("保定市")])],1)],1),t._v(" "),e("Col",{attrs:{span:"5"}},[e("Select",{attrs:{placeholder:"区"},model:{value:t.formValidate.area,callback:function(a){t.formValidate.area=a},expression:"formValidate.area"}},[e("Option",{attrs:{value:"海淀区"}},[t._v("海淀区")])],1)],1)],1)],1),t._v(" "),e("Col",{staticClass:"fl",attrs:{span:"24"}},[e("Form-item",{attrs:{label:"详细地址",prop:"address"}},[e("Input",{model:{value:t.formValidate.locationInfo,callback:function(a){t.formValidate.locationInfo=a},expression:"formValidate.locationInfo"}})],1)],1)],1)],1)],1)],1)],1)])},i=[],o={render:n,staticRenderFns:i};a.a=o},fo8f:function(t,a,e){"use strict";a.a={mounted:function(){var t=new BMap.Map("locationMap");this.$store.state.map=t;var a=new BMap.Point(116.331398,39.897445);t.centerAndZoom(a,12),(new BMap.Geolocation).getCurrentPosition(function(a){if(this.getStatus()===BMAP_STATUS_SUCCESS){var e=new BMap.Marker(a.point);t.addOverlay(e),t.panTo(a.point)}else alert("failed"+this.getStatus())},{enableHighAccuracy:!0})}}},pFHy:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;return(t._self._c||a)("div",{attrs:{id:"locationMap"}})},i=[],o={render:n,staticRenderFns:i};a.a=o}});
//# sourceMappingURL=6.b29c73edc7d75722519a.js.map